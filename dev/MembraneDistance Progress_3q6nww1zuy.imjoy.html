
<docs lang="markdown">
Describe your plugin here.
</docs>

<config lang="json">
{
  "name": "MembraneDistance Progress",
  "mode": "window",
  "tags": [],
  "ui": "UI for Untitled Plugin",
  "version": "0.1.0",
  "api_version": "0.1.1",
  "description": "describe your plugin here.",
  "icon": "extension",
  "inputs": null,
  "outputs": null,
  "env": "",
  "requirements": ["https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css",
                    "https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js",
                    "https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js",
                    "https://cdn.plot.ly/plotly-latest.min.js",
                   "https://unpkg.com/spectre.css/dist/spectre.min.css",
                   "https://unpkg.com/spectre.css/dist/spectre-exp.min.css",
                   "https://unpkg.com/spectre.css/dist/spectre-icons.min.css"],
  "dependencies": [],
  "defaults": {"w": 7, "h": 7}
}
</config>

<script lang="javascript">
class ImJoyPlugin {
  async setup() {
      this.set_bar("bar1","whatever",50.11)
      //this.set_bar("bar5","whatever",50.11)
  };

// Function to set each progress bar (text and progress)
 set_bar(id,text,progress){
    document.getElementById(id).innerHTML = text;
    var progress_string = "width:"+progress.toString()+"%"
    document.getElementById(id).style = progress_string;
    //document.getElementById(id).aria-valuenow = parseFloat(progress);
  };


  run(my) {
    console.log('running in the plugin ', my)
    console.log('running the window plugin ', my.data)
    this.set_bar(my.data["id"],my.data["text"],my.data["progress"])
  }
}

api.export(new ImJoyPlugin())
</script>

<window lang="html">
  <div>

     <h3>Progress window for cell membrane analysis</h3>

    <h4>Reading annotations</h4>
    <!-- one line columns -->
    <div class="columns col-oneline">
        <div class="column col-4">Categories</div>
        <div class="column col-8">
            <div class="bar">
                <div class="bar">
                    <div class="bar-item" role="progressbar" id="bar1" "style="width:0%;" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- one line columns -->
    <div class="columns col-oneline">
        <div class="column col-1"></div>
        <div class="column col-3">Files</div>
        <div class="column col-8">
            <div class="bar">
                <div class="bar">
                    <div class="bar-item" role="progressbar" id="bar2" "style="width:0%;" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100"></div>
                </div>
            </div>
        </div>
    </div>

    <br>
    
    <!-- one line columns -->
    <h4>Process slices</h4>
    <div class="columns col-oneline">
        <div class="column col-4">Process slices</div>
        <div class="column col-8">
            <div class="bar">
                <div class="bar">
                    <div class="bar-item" role="progressbar" id="bar3" "style="width:0%;" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100"></div>
                </div>
            </div>
        </div>
    </div>

  </div>
</window>

<style lang="css">

</style>
